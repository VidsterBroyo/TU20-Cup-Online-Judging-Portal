<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>TU20 Cup Judging Stats</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.16/dist/tailwind.min.css" rel="stylesheet"
        crossorigin="anonymous">
    <link href="static/style.css" rel="stylesheet">
    <link rel="icon" href="static/favicon.jpg" type="image/jpg">
    <script src="/static/statsPage.js"></script>

</head>

<body onload="loadStats()" class="bg-gray-100">

    <div class="container-fluid">
        <div id="loginHeader" class="jumbotron p-1 mb-8">
            <a href="/login" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                Back to Login
            </a>
            <a href="/rubrics" id="backToRubrics" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline ml-2" style="display:none;">
                Back to Rubrics
            </a>
            <h1 id="heroTitle">TU20 Cup Judging Statistics</h1>
            <p id="subtitle">Overview of all teams' performance</p>
        </div>
    </div>

    <div class="mx-auto w-3/4">
        <h2 class="text-2xl font-bold mb-4 text-center mt-8">Team Statistics</h2>
        
        <div class="grid grid-cols-2 gap-4 mb-8">
            <div class="bg-white p-4 rounded shadow">
                <h3 class="text-xl font-bold mb-4">Score Summary</h3>
                <div id="summaryStats" class="mb-4">
                    <p>Loading statistics...</p>
                </div>
            </div>
            <div class="bg-white p-4 rounded shadow">
                <h3 class="text-xl font-bold mb-4">Score Distribution</h3>
                <canvas id="scoreDistributionChart"></canvas>
            </div>
        </div>

        <div class="bg-white p-4 rounded shadow mb-8">
            <h3 class="text-xl font-bold mb-4">Team Rankings</h3>
            <table class="table-auto w-full">
                <thead>
                    <tr class="bg-gray-100">
                        <th class="px-4 py-2">Rank</th>
                        <th class="px-4 py-2">Team Name</th>
                        <th class="px-4 py-2">Team Members</th>
                        <th class="px-4 py-2">Average Score</th>
                        <th class="px-4 py-2">Median Score</th>
                        <th class="px-4 py-2">Min Score</th>
                        <th class="px-4 py-2">Max Score</th>
                    </tr>
                </thead>
                <tbody id="teamRankings">
                    <!-- Team rankings will be inserted here -->
                </tbody>
            </table>
        </div>

        <div class="grid grid-cols-2 gap-4 mb-8">
            <div class="bg-white p-4 rounded shadow">
                <h3 class="text-xl font-bold mb-4">Criterion Averages</h3>
                <canvas id="criteriaChart"></canvas>
            </div>
            <div class="bg-white p-4 rounded shadow">
                <h3 class="text-xl font-bold mb-4">Judge Comparison</h3>
                <canvas id="judgeChart"></canvas>
            </div>
        </div>
    </div>
    
</body>

</html> 